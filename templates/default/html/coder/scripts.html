<script type="text/javascript">
	// Show sideNav
	$('.button-collapse').sideNav('show');
	// Hide sideNav
	$('.button-collapse').sideNav('hide'); 

	new WOW().init(); 

	// MDB Lightbox Init
	$(function () {
	    $("#mdb-lightbox-ui").load("{$template_url}/mdb-addons/mdb-lightbox-ui.html");
	});

	$(function () {
		$('[data-toggle="tooltip"]').tooltip();
		$('.datepicker').pickadate();
	});

	(function() {
		'use strict';
		window.addEventListener('load', function() {
			// Fetch all the forms we want to apply custom Bootstrap validation styles to
			var forms = document.getElementsByClassName('needs-validation');
			// Loop over them and prevent submission
			var validation = Array.prototype.filter.call(forms, function(form) {
				form.addEventListener('submit', function(event) {
					if (form.checkValidity() === false) {
						event.preventDefault();
						event.stopPropagation();
					}
					form.classList.add('was-validated');
				}, false);
			});
		}, false);
	})();  
 
  	jQuery(document).ready(function ($) { 
		$('.iframe-btn').fancybox({
		    'type' : 'iframe',
		    'autoScale'   : false,
		    iframe : {
		        css : {
		            width : '880px',
		            height : '550px'
		        }
		    }
		});    	
	    //
	    // Handles message from ResponsiveFilemanager
	    //
    	function OnMessage(e){
      		var event = e.originalEvent;
	       	// Make sure the sender of the event is trusted
	       	if(event.data.sender === 'responsivefilemanager'){
          		if(event.data.field_id){
	            	var fieldID=event.data.field_id;
	            	var url=event.data.url;
	            	$('#'+fieldID).val(url).trigger('change');
	            	$.fancybox.close();

	            	// Delete handler of the message from ResponsiveFilemanager
	            	$(window).off('message', OnMessage);
          		}
       		}
    	}

    	// Handler for a message from ResponsiveFilemanager
    	$('.iframe-btn').on('click',function(){
      		$(window).on('message', OnMessage);
    	});

		$('#timepicker').datetimepicker({
		  datepicker:false,
		  format:'H:i'
		});   

		$('#datepicker').datetimepicker({
		  timepicker:false,
		  format:'Y-m-d'
		});    	
  	});
</script>
